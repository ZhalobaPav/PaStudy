<app-scroll-view>
  <div class="modal-card">
    <div class="modal-header">
      <h2>Додати новий розділ</h2>
      <button class="close-icon" (click)="close()">×</button>
    </div>

    <form [formGroup]="assignmentForm" (ngSubmit)="onSubmit()">
      <div class="modal-body">
        <div class="form-group">
          <label for="title">Назва розділу</label>
          <input
            id="title"
            type="text"
            formControlName="title"
            placeholder="Наприклад: Вступ до курсу"
            [class.error]="
              assignmentForm.get('title')?.invalid &&
              assignmentForm.get('title')?.touched
            "
          />
          @if (
            assignmentForm.get("title")?.errors?.["required"] &&
            assignmentForm.get("title")?.touched
          ) {
            <small class="error-text">Назва є обов'язковою</small>
          }
        </div>

        <div class="form-group">
          <label for="description">Опис (необов'язково)</label>
          <app-text-editor
            formControlName="description"
            placeholder="Опишіть завдання та додайте зображення"
          ></app-text-editor>
        </div>
        <div class="form-group">
          <label for="dueDate">Дата</label>
          <input id="dueDate" formControlName="dueDate" rows="3" type="date" />
        </div>

        <div class="form-group">
          <label for="maxPoints">Кількість балів</label>
          <input id="maxPoints" formControlName="maxPoints" type="number" />
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn-secondary" (click)="close()">
          Скасувати
        </button>
        <button
          type="submit"
          class="btn-primary"
          [disabled]="assignmentForm.invalid || isLoading()"
        >
          Створити
        </button>
      </div>
    </form>
  </div>
</app-scroll-view>
